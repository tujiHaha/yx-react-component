import e,{createContext as n,useState as t,useContext as a}from"react";import r from"classnames";var l=function(){return l=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},l.apply(this,arguments)};var c=function(n){var t,a=n.btnType,c=n.className,o=n.disabled,i=n.size,u=n.children,m=n.href,s=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t}(n,["btnType","className","disabled","size","children","href"]),d=r("btn",c,((t={})["btn-".concat(a)]=a,t["btn-".concat(i)]=i,t.disabled="link"===a&&o,t));return"link"===a&&m?e.createElement("a",l({className:d,href:m},s),u):e.createElement("button",l({className:d,disabled:o},s),u)};c.defaultProps={disabled:!1,btnType:"default"};var o=n({activeIndex:"0",mode:"vertical",defaultOpen:[]});var i=function(n){var c,i=n.title,u=n.children,m=n.index,s=n.className,d=a(o),f=d.mode,p=d.defaultOpen,b=t((function(){return p&&m?p.includes(m):"vertical"===f})),v=b[0],y=b[1];var h="horizontal"===f?{onMouseEnter:function(){y(!0)},onMouseLeave:function(){y(!1)}}:{},N="vertical"===f?{onClick:function(){y(!v)}}:{},O=r("sub-menu",s,((c={})["sub-memu-".concat(f)]=!!f,c));return e.createElement("li",l({className:O},h),e.createElement("strong",l({className:"sub-menu-title"},N),i,e.createElement("span",{className:v?"sanjiao":"sanjiao close"})),e.createElement("ul",{className:"sub-menu-container",style:{display:v?"block":"none"}},function(n){return e.Children.map(n,(function(n,t){var a=n;if("menuItem"===a.type.displayName)return e.cloneElement(a,{index:"".concat(m,"-").concat(t)});console.error("menu child element must name MenuItem")}))}(u)))};i.displayName="subMenu";var u=function(n){var t,l=n.children,c=n.className,i=n.disabled,u=n.index,m=a(o),s=m.activeIndex,d=m.onSelect,f=m.mode,p=r("menu-item",c,((t={})["memu-item-disabled"]=!!i,t["memu-item-active"]=s===u,t["memu-item-".concat(f)]=!!f,t));return e.createElement("li",{className:p,onClick:function(){return function(e){d&&!i&&d(e)}(u||"")}},l)};u.displayName="menuItem",u.defaultProps={disabled:!1};var m=function(n){var a,l=n.children,c=n.mode,i=n.className,u=n.onSelect,m=n.defaultIndex,s=n.defaultOpen,d=t(m||"0"),f=d[0],p=d[1],b=r("menu-wrap",i,((a={})["menu-wrap-".concat(c)]=!!c,a));return e.createElement("ul",{className:b},e.createElement(o.Provider,{value:{activeIndex:f,mode:c,onSelect:function(e){p(e),u&&u(e)},defaultOpen:s}},function(n){return e.Children.map(n,(function(n,t){var a=n,r=a.type.displayName;if("menuItem"===r||"subMenu"===r)return e.cloneElement(a,{index:"".concat(t)});console.error("menu child element must name MenuItem or subMenu")}))}(l)))};m.Item=u,m.SubMemu=i;export{c as Button,m as Menu};
